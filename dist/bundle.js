!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(e){this.element=e}on(e,t,i=this.element){i.addEventListener(e,e=>t(e.detail))}emit(e,t,i=this.element){const s=new CustomEvent(e,{detail:t});i.dispatchEvent(s)}static bindTo(e){let t=e;if("string"==typeof e&&(t=document.querySelector(e)),!(t instanceof HTMLElement||t instanceof HTMLDocument))throw new Error("cannot bound component");new this(t).init()}init(){throw new Error("Must be implemented!")}}class n{constructor(e){this.user_id=parseFloat(e.user_id),this.group_id=parseFloat(e.group_id),this.name=e.name,this.street=e.street,this.zip_code=parseFloat(e.zip_code),this.city=e.city,this.phone=e.phone,this.credits=parseFloat(e.credits)}}class o{constructor(e){this.group_id=e.group_id,this.name=e.name,this.is_admin=e.is_admin}}var l=class extends s{init(){this.users=[],this.groups=[],this.on("actionEvent",this.actionEventFun.bind(this),document),this.on("renderInit",this.renderInitFun.bind(this),document),this.on("postRequestData",this.postBlankEmit.bind(this),document),this.on("editRequestData",this.editBlankEmit.bind(this),document),this.on("fetchPostRequest",this.postUserRequest.bind(this),document),this.on("fetchPutRequest",this.putUserRequest.bind(this),document)}renderInitFun(){this.sortData(),setTimeout(function(){this.emit("renderGroups",this.groups,document),this.emit("renderUsers",this.users,document)}.bind(this),5)}actionEventFun(e){const t=e.action.split(":");"updated"===t[1]&&this.fetchFun(e),"removed"===t[1]&&("user"===t[0]&&this.userDelete(e.id),"group"===t[0]&&this.groupDelete(e.id))}userDelete(e){const t=this.users.find(t=>t.user_id===e),i=this.users.indexOf(t);this.users.splice(i,1),this.emit("renderInit",null,document)}groupDelete(e){const t=this.groups.find(t=>t.group_id===e),i=this.groups.indexOf(t);this.groups.splice(i,1),this.emit("renderInit",null,document)}fetchFun(e){const t=e.action.split(":"),{id:i}=e,s=`https://ums-honeybadger.herokuapp.com/${t[0]}/${i}`;fetch(s).then(e=>{if(200!==e.status)throw new Error;return e.json()}).then(e=>{"user"===t[0]&&this.addUser(e),"group"===t[0]&&this.addGroup(e),this.emit("renderInit",null,document)}).catch(console.log)}addUser(e){const t=this.users.find(t=>t.user_id===e.user_id);if(t){const e=this.users.indexOf(t);this.users.splice(e,1)}this.users.push(new n(e)),this.countUsersInGroups()}addGroup(e){this.groups.push(new o(e)),this.countUsersInGroups()}countUsersInGroups(){this.groups.forEach(e=>{e.amountOfUsers=this.users.reduce((t,i)=>i.group_id===e.group_id?t+1:t,0)})}putUserRequest(e){const t=`https://ums-honeybadger.herokuapp.com/user/${e.user_id}`,i=new n(e);fetch(t,{method:"put",body:JSON.stringify(i)}).then(e=>{if(200!==e.status)throw new Error}).catch(console.log)}postUserRequest(e){const t=new n(e);t.user_id=void 0,fetch("https://ums-honeybadger.herokuapp.com/user",{method:"post",body:JSON.stringify(t)}).then(e=>{if(201!==e.status)throw new Error}).catch(console.log)}postBlankEmit(){this.emit("postSendData",this.groups,document)}editBlankEmit(e){const t=this.users.find(t=>t.user_id===parseFloat(e));this.emit("editSendData",[t,this.groups],document)}sortData(){this.users.sort((e,t)=>e.user_id-t.user_id),this.groups.sort((e,t)=>e.group_id-t.group_id)}};var r=class extends s{init(){this.socket=new WebSocket("ws://ums-honeybadger.herokuapp.com/ums"),this.socket.onmessage=this.onMessageFun.bind(this),this.socket.onopen=this.onOpenFun.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this)}onMessageFun(e){const t=JSON.parse(e.data);t.message&&console.log("MESSAGE - ",t.message),t.action&&this.emit("actionEvent",t,document)}onOpenFun(e){console.log(e)}onError(e){console.log(e)}onClose(e){console.log(e)}};const a=document.querySelector(".sidenav"),d=document.querySelector("#slide-out").querySelector("ul"),c=document.querySelector(".page-title");var u=class extends s{init(){M.Sidenav.init(a,{}),this.on("renderGroups",this.renderGroups.bind(this),document),window.onhashchange=(()=>{this.emit("renderInit",null,document)})}renderGroups(e){d.innerHTML="",e.forEach(e=>{let t;parseFloat(document.location.hash.split(/[#/]/)[1])===e.group_id?(c.innerText=e.name,t="active"):t="";const i=`<li class=${t}><a href="#${e.group_id}/">${e.name} <span class="badge" data-badge-caption="">${e.amountOfUsers}</span></a></li>`;d.innerHTML+=i})}};const h=document.querySelector(".striped").querySelector("tbody");var p=class extends s{init(){this.on("renderUsers",this.renderUsers.bind(this),document)}renderUsers(e){h.innerHTML="",e.forEach(e=>{if(parseFloat(document.location.hash.split(/[#/]/)[1])===e.group_id){const t=`\n        <tr id="${e.user_id}">\n          <td>${e.name}</td>\n          <td>${e.street}</td>\n          <td>${e.zip_code}</td>\n          <td>${e.city}</td>\n          <td>${e.phone}</td>\n        </tr>\n        `;h.innerHTML+=t}})}};const m=document.querySelector("#modalAdd"),v=document.querySelector(".navigation-add").querySelector("a");var S=class extends s{init(){this.on("postSendData",this.initBlank.bind(this),document),v.addEventListener("click",this.openModalPost.bind(this),!1)}openModalPost(){m.innerHTML='\n    <div class="modal-content">\n        <h4>Add new member</h4>\n        <div class="row">\n            <form class="col s12">\n                <div class="row">\n                    <div class="input-field col s6">\n                        <input id="first_name" type="text" class="validate">\n                        <label for="first_name">First Name</label>\n                    </div>\n                    <div class="input-field col s6">\n                        <input id="last_name" type="text" class="validate">\n                        <label for="last_name">Last Name</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="street" type="text" class="validate">\n                        <label for="street">Street</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s6">\n                        <input id="zip_code" type="text" class="validate">\n                        <label for="zip_code">Zip code</label>\n                    </div>\n                    <div class="input-field col s6">\n                        <input id="city" type="text" class="validate">\n                        <label for="city">City</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="phone" type="text" class="validate">\n                        <label for="phone">Phone number</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <select id="groups">\n                            \n                        </select>\n                        <label>Group</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <label for="range_credit">Credit</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="range_credit" type="range" min="0" max="1000" />\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a id="close_button" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>\n        <a id="create_button" class="modal-action modal-close waves-effect waves-green btn-flat">Create</a>\n    </div>\n    ',M.Modal.init(m,{}),this.instance=M.Modal.getInstance(m),this.instance.open(),this.blankGroupsSel=m.querySelector("#groups"),this.groupSel=m.querySelector("select"),this.firstNameSel=m.querySelector("#first_name"),this.lastNameSel=m.querySelector("#last_name"),this.streetSel=m.querySelector("#street"),this.zipCodeSel=m.querySelector("#zip_code"),this.citySel=m.querySelector("#city"),this.phoneSel=m.querySelector("#phone"),this.rangeCreditSel=m.querySelector("#range_credit"),this.createButtonSel=m.querySelector("#create_button"),this.modalOverlaySel=document.querySelector(".modal-overlay"),this.closeButtonSel=m.querySelector("#close_button"),this.createButtonSel.addEventListener("click",this.postBlankCreate.bind(this),!1),this.closeButtonSel.addEventListener("click",this.closeModalFun.bind(this),!1),this.modalOverlaySel.addEventListener("click",this.closeModalFun.bind(this),!1),this.createButtonSel.addEventListener("click",this.closeModalFun.bind(this),!1),M.Range.init(this.rangeCreditSel,{}),this.emit("postRequestData",null,document)}initBlank(e){this.groups=e,this.blankGroupsSel.innerHTML="",this.blankGroupsSel.innerHTML+='<option value="" disabled selected>Choose group</option>',e.forEach(e=>{this.blankGroupsSel.innerHTML+=`<option value="${e.group_id}" id="${e.group_id}">${e.name}</option>`}),M.FormSelect.init(this.groupSel,{})}postBlankCreate(){this.instance=M.FormSelect.init(this.groupSel,{}),this.instance=M.FormSelect.getInstance(this.groupSel);const e={};[e.group_id]=this.instance.getSelectedValues(),e.name=`${this.firstNameSel.value} ${this.lastNameSel.value}`,e.street=this.streetSel.value,e.zip_code=this.zipCodeSel.value,e.city=this.citySel.value,e.phone=this.phoneSel.value,e.credits=this.rangeCreditSel.value,this.emit("fetchPostRequest",e,document)}closeModalFun(){m.innerHTML=""}};const b=document.querySelector("#modalEdit"),f=document.querySelector("main").querySelector("tbody");var g=class extends s{init(){f.addEventListener("dblclick",this.openModalEdit.bind(this),!1),this.on("editSendData",this.initBlank.bind(this),document)}openModalEdit(e){b.innerHTML='\n    <div class="modal-content">\n        <h4>Edit member</h4>\n        <div class="row">\n            <form class="col s12">\n                <div class="row">\n                    <div class="input-field col s6">\n                        <input id="first_name" type="text" class="validate">\n                        <label for="first_name">First Name</label>\n                    </div>\n                    <div class="input-field col s6">\n                        <input id="last_name" type="text" class="validate">\n                        <label for="last_name">Last Name</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="street" type="text" class="validate">\n                        <label for="street">Street</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s6">\n                        <input id="zip_code" type="text" class="validate">\n                        <label for="zip_code">Zip code</label>\n                    </div>\n                    <div class="input-field col s6">\n                        <input id="city" type="text" class="validate">\n                        <label for="city">City</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="phone" type="text" class="validate">\n                        <label for="phone">Phone number</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <select id="groups">\n\n                        </select>\n                        <label>Group</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <label for="range_credit">Credit</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="input-field col s12">\n                        <input id="range_credit" type="range" min="0" max="1000" />\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a id="close_button" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>\n        <a id="update_button" class="modal-action modal-close waves-effect waves-green btn-flat">Update</a>\n    </div>\n    ',M.Modal.init(b,{}),this.instance=M.Modal.getInstance(b),this.instance.open(),this.blankGroupsSel=b.querySelector("#groups"),this.groupSel=b.querySelector("select"),this.firstNameSel=b.querySelector("#first_name"),this.lastNameSel=b.querySelector("#last_name"),this.streetSel=b.querySelector("#street"),this.zipCodeSel=b.querySelector("#zip_code"),this.citySel=b.querySelector("#city"),this.phoneSel=b.querySelector("#phone"),this.rangeCreditSel=b.querySelector("#range_credit"),this.idContainerSel=b.querySelector(".modal-content"),this.modalOverlaySel=document.querySelector(".modal-overlay"),this.updateButtonSel=b.querySelector("#update_button"),this.closeButtonSel=b.querySelector("#close_button"),M.Range.init(this.rangeCreditSel,{}),this.emit("editRequestData",e.target.parentNode.id,document),this.updateButtonSel.addEventListener("click",this.editBlankUpdate.bind(this),!1),this.closeButtonSel.addEventListener("click",this.closeModalFun.bind(this),!1),this.updateButtonSel.addEventListener("click",this.closeModalFun.bind(this),!1),this.modalOverlaySel.addEventListener("click",this.closeModalFun.bind(this),!1)}initBlank(e){[this.user,this.groups]=e;const t=this.groups.find(e=>e.group_id===this.user.group_id);this.blankGroupsSel.innerHTML="",this.blankGroupsSel.innerHTML+=`<option value="${this.user.group_id}" disabled selected>${t.name}</option>`,this.groups.forEach(e=>{this.blankGroupsSel.innerHTML+=`<option value="${e.group_id}" id="${e.group_id}">${e.name}</option>`}),this.idContainerSel.id=this.user.user_id;const i=this.user.name.split(" ");[this.firstNameSel.value]=i,i.splice(0,1),this.lastNameSel.value=i.join(" "),this.streetSel.value=this.user.street,this.zipCodeSel.value=this.user.zip_code,this.citySel.value=this.user.city,this.phoneSel.value=this.user.phone,this.rangeCreditSel.value=this.user.credits,0===parseFloat(this.rangeCreditSel.value)?(this.firstNameSel.disabled=!0,this.lastNameSel.disabled=!0,this.streetSel.disabled=!0,this.zipCodeSel.disabled=!0,this.citySel.disabled=!0,this.phoneSel.disabled=!0,this.rangeCreditSel.disabled=!0,this.blankGroupsSel.disabled=!0):(this.firstNameSel.disabled=!1,this.lastNameSel.disabled=!1,this.streetSel.disabled=!1,this.zipCodeSel.disabled=!1,this.citySel.disabled=!1,this.phoneSel.disabled=!1,this.rangeCreditSel.disabled=!1,this.blankGroupsSel.disabled=!1),t.is_admin&&(this.rangeCreditSel.disabled=!0),M.FormSelect.init(this.groupSel,{}),M.updateTextFields()}editBlankUpdate(){this.instance=M.FormSelect.init(this.groupSel,{}),this.instance=M.FormSelect.getInstance(this.groupSel);const e={};e.user_id=this.idContainerSel.id,[e.group_id]=this.instance.getSelectedValues(),e.name=`${this.firstNameSel.value} ${this.lastNameSel.value}`,e.street=this.streetSel.value,e.zip_code=this.zipCodeSel.value,e.city=this.citySel.value,e.phone=this.phoneSel.value,e.credits=this.rangeCreditSel.value,this.emit("fetchPutRequest",e,document)}closeModalFun(){b.innerHTML=""}};l.bindTo(document),r.bindTo(document),u.bindTo(document),p.bindTo(document),S.bindTo(document),g.bindTo(document)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2pzL2RhdGFfc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vanMvd2ViX3NvY2tldC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9ncm91cHNfdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qcy91c2Vyc192aWV3LmpzIiwid2VicGFjazovLy8uL2pzL3Bvc3RfYmxhbmsuanMiLCJ3ZWJwYWNrOi8vLy4vanMvZWRpdF9ibGFuay5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb21wb25lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJlbGVtZW50IiwidGhpcyIsImV2ZW50VHlwZSIsImNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZGV0YWlsIiwiZGF0YSIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTEVsZW1lbnQiLCJIVE1MRG9jdW1lbnQiLCJFcnJvciIsImluaXQiLCJkYXRhX3N0b3JlX1VzZXJPYmoiLCJ1c2VyIiwidXNlcl9pZCIsInBhcnNlRmxvYXQiLCJncm91cF9pZCIsInN0cmVldCIsInppcF9jb2RlIiwiY2l0eSIsInBob25lIiwiY3JlZGl0cyIsImRhdGFfc3RvcmVfR3JvdXBPYmoiLCJnIiwiaXNfYWRtaW4iLCJkYXRhX3N0b3JlIiwidXNlcnMiLCJncm91cHMiLCJvbiIsImFjdGlvbkV2ZW50RnVuIiwiYmluZCIsInJlbmRlckluaXRGdW4iLCJwb3N0QmxhbmtFbWl0IiwiZWRpdEJsYW5rRW1pdCIsInBvc3RVc2VyUmVxdWVzdCIsInB1dFVzZXJSZXF1ZXN0Iiwic29ydERhdGEiLCJzZXRUaW1lb3V0IiwiZW1pdCIsImFjdGlvbiIsInNwbGl0IiwiZmV0Y2hGdW4iLCJ1c2VyRGVsZXRlIiwiaWQiLCJncm91cERlbGV0ZSIsInRlbXAiLCJmaW5kIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInVybCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwic3RhdHVzIiwianNvbiIsImFkZFVzZXIiLCJhZGRHcm91cCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInB1c2giLCJjb3VudFVzZXJzSW5Hcm91cHMiLCJncm91cCIsImZvckVhY2giLCJhbW91bnRPZlVzZXJzIiwicmVkdWNlIiwiYWNjIiwiY3VyIiwib2JqIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1bmRlZmluZWQiLCJzb3J0IiwiYSIsImIiLCJ3ZWJfc29ja2V0Iiwic29ja2V0IiwiV2ViU29ja2V0Iiwib25tZXNzYWdlIiwib25NZXNzYWdlRnVuIiwib25vcGVuIiwib25PcGVuRnVuIiwib25lcnJvciIsIm9uRXJyb3IiLCJvbmNsb3NlIiwib25DbG9zZSIsIm1lc3NhZ2UiLCJwYXJzZSIsImUiLCJncm91cHNfdmlld19zaWRlbmF2IiwiZ3JvdXBzX3ZpZXdfZ3JvdXBzVWxTZWwiLCJncm91cHNfdmlld19wYWdlVGl0bGVTZWwiLCJncm91cHNfdmlldyIsIk0iLCJTaWRlbmF2IiwicmVuZGVyR3JvdXBzIiwid2luZG93Iiwib25oYXNoY2hhbmdlIiwiaW5uZXJIVE1MIiwiYWN0aXZlIiwibG9jYXRpb24iLCJoYXNoIiwiaW5uZXJUZXh0IiwibXlUZW1wbGF0ZSIsInVzZXJzX3ZpZXdfdXNlcnNUYWJsZUJvZHlTZWwiLCJ1c2Vyc192aWV3IiwicmVuZGVyVXNlcnMiLCJwb3N0X2JsYW5rX21vZGFsQWRkU2VsIiwicG9zdF9ibGFua19vcGVuTW9kYWxTZWwiLCJwb3N0X2JsYW5rIiwiaW5pdEJsYW5rIiwib3Blbk1vZGFsUG9zdCIsIk1vZGFsIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsIm9wZW4iLCJibGFua0dyb3Vwc1NlbCIsImdyb3VwU2VsIiwiZmlyc3ROYW1lU2VsIiwibGFzdE5hbWVTZWwiLCJzdHJlZXRTZWwiLCJ6aXBDb2RlU2VsIiwiY2l0eVNlbCIsInBob25lU2VsIiwicmFuZ2VDcmVkaXRTZWwiLCJjcmVhdGVCdXR0b25TZWwiLCJtb2RhbE92ZXJsYXlTZWwiLCJjbG9zZUJ1dHRvblNlbCIsInBvc3RCbGFua0NyZWF0ZSIsImNsb3NlTW9kYWxGdW4iLCJSYW5nZSIsIkZvcm1TZWxlY3QiLCJ0ZW1wVXNlciIsImdldFNlbGVjdGVkVmFsdWVzIiwiZWRpdF9ibGFua19tb2RhbEVkaXRTZWwiLCJlZGl0X2JsYW5rX21haW5UYWJsZVNlbCIsImVkaXRfYmxhbmsiLCJvcGVuTW9kYWxFZGl0IiwiaWRDb250YWluZXJTZWwiLCJ1cGRhdGVCdXR0b25TZWwiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZWRpdEJsYW5rVXBkYXRlIiwicGFyYW1zIiwiY2hvb3NlZEdyb3VwIiwiZnVsbG5hbWUiLCJqb2luIiwiZGlzYWJsZWQiLCJ1cGRhdGVUZXh0RmllbGRzIiwiYmluZFRvIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxR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S0FBQXlILFNBQUFvQixvQkFDQUQsRUFBQWpLLFFBQXVCcUIsS0FBQThILGFBQUExSSxTQUEyQlksS0FBQStILFlBQUEzSSxRQUNsRHdKLEVBQUF2SCxPQUFBckIsS0FBQWdJLFVBQUE1SSxNQUNBd0osRUFBQXRILFNBQUF0QixLQUFBaUksV0FBQTdJLE1BQ0F3SixFQUFBckgsS0FBQXZCLEtBQUFrSSxRQUFBOUksTUFDQXdKLEVBQUFwSCxNQUFBeEIsS0FBQW1JLFNBQUEvSSxNQUNBd0osRUFBQW5ILFFBQUF6QixLQUFBb0ksZUFBQWhKLE1BQ0FZLEtBQUEwQyxLQUFBLGtCQUFBa0csRUFBQWxJLFVBSUFaLGdCQUNBZ0osRUFBQXBDLFVBQUEsS0NwS0E3RSxFQUFBZ0ksT0FBQW5KLFVBQ0F5RSxFQUFBMEUsT0FBQW5KLFVBQ0EwRixFQUFBeUQsT0FBQW5KLFVBQ0F1RyxFQUFBNEMsT0FBQW5KLFVBQ0EyRyxFQUFBd0MsT0FBQW5KLFVBQ0FzSSxFQUFBYSxPQUFBbkoiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB9XG5cbiAgb24oZXZlbnRUeXBlLCBjYWxsYmFjaywgZWxlbWVudCA9IHRoaXMuZWxlbWVudCkge1xuICAgIGNvbnN0IGNiV3JhcCA9IGV2ZW50ID0+IGNhbGxiYWNrKGV2ZW50LmRldGFpbCk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2JXcmFwKTtcbiAgfVxuXG4gIGVtaXQoZXZlbnRUeXBlLCBkYXRhLCBlbGVtZW50ID0gdGhpcy5lbGVtZW50KSB7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnRUeXBlLCB7IGRldGFpbDogZGF0YSB9KTtcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgc3RhdGljIGJpbmRUbyhzZWxlY3Rvcikge1xuICAgIGxldCBlbGVtZW50ID0gc2VsZWN0b3I7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGJvdW5kIGNvbXBvbmVudCcpO1xuICAgIH1cblxuICAgIChuZXcgdGhpcyhlbGVtZW50KSkuaW5pdCgpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgaW5pdCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3QgYmUgaW1wbGVtZW50ZWQhJyk7XG4gIH1cbn1cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5jbGFzcyBVc2VyT2JqIHtcbiAgY29uc3RydWN0b3IodXNlcikge1xuICAgIHRoaXMudXNlcl9pZCA9IHBhcnNlRmxvYXQodXNlci51c2VyX2lkKTtcbiAgICB0aGlzLmdyb3VwX2lkID0gcGFyc2VGbG9hdCh1c2VyLmdyb3VwX2lkKTtcbiAgICB0aGlzLm5hbWUgPSB1c2VyLm5hbWU7XG4gICAgdGhpcy5zdHJlZXQgPSB1c2VyLnN0cmVldDtcbiAgICB0aGlzLnppcF9jb2RlID0gcGFyc2VGbG9hdCh1c2VyLnppcF9jb2RlKTtcbiAgICB0aGlzLmNpdHkgPSB1c2VyLmNpdHk7XG4gICAgdGhpcy5waG9uZSA9IHVzZXIucGhvbmU7XG4gICAgdGhpcy5jcmVkaXRzID0gcGFyc2VGbG9hdCh1c2VyLmNyZWRpdHMpO1xuICB9XG59XG5cbmNsYXNzIEdyb3VwT2JqIHtcbiAgY29uc3RydWN0b3IoZykge1xuICAgIHRoaXMuZ3JvdXBfaWQgPSBnLmdyb3VwX2lkO1xuICAgIHRoaXMubmFtZSA9IGcubmFtZTtcbiAgICB0aGlzLmlzX2FkbWluID0gZy5pc19hZG1pbjtcbiAgfVxufVxuXG5jbGFzcyBEYXRhU3RvcmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBpbml0KCkge1xuICAgIHRoaXMudXNlcnMgPSBbXTtcbiAgICB0aGlzLmdyb3VwcyA9IFtdO1xuICAgIHRoaXMub24oJ2FjdGlvbkV2ZW50JywgdGhpcy5hY3Rpb25FdmVudEZ1bi5iaW5kKHRoaXMpLCBkb2N1bWVudCk7XG4gICAgdGhpcy5vbigncmVuZGVySW5pdCcsIHRoaXMucmVuZGVySW5pdEZ1bi5iaW5kKHRoaXMpLCBkb2N1bWVudCk7XG4gICAgdGhpcy5vbigncG9zdFJlcXVlc3REYXRhJywgdGhpcy5wb3N0QmxhbmtFbWl0LmJpbmQodGhpcyksIGRvY3VtZW50KTtcbiAgICB0aGlzLm9uKCdlZGl0UmVxdWVzdERhdGEnLCB0aGlzLmVkaXRCbGFua0VtaXQuYmluZCh0aGlzKSwgZG9jdW1lbnQpO1xuICAgIHRoaXMub24oJ2ZldGNoUG9zdFJlcXVlc3QnLCB0aGlzLnBvc3RVc2VyUmVxdWVzdC5iaW5kKHRoaXMpLCBkb2N1bWVudCk7XG4gICAgdGhpcy5vbignZmV0Y2hQdXRSZXF1ZXN0JywgdGhpcy5wdXRVc2VyUmVxdWVzdC5iaW5kKHRoaXMpLCBkb2N1bWVudCk7XG4gIH1cblxuICByZW5kZXJJbml0RnVuKCkge1xuICAgIHRoaXMuc29ydERhdGEoKTtcbiAgICBmdW5jdGlvbiBmdW4oKSB7XG4gICAgICB0aGlzLmVtaXQoJ3JlbmRlckdyb3VwcycsIHRoaXMuZ3JvdXBzLCBkb2N1bWVudCk7XG4gICAgICB0aGlzLmVtaXQoJ3JlbmRlclVzZXJzJywgdGhpcy51c2VycywgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KGZ1bi5iaW5kKHRoaXMpLCA1KTtcbiAgfVxuXG4gIGFjdGlvbkV2ZW50RnVuKGRhdGEpIHtcbiAgICBjb25zdCBhY3Rpb24gPSBkYXRhLmFjdGlvbi5zcGxpdCgnOicpO1xuICAgIGlmIChhY3Rpb25bMV0gPT09ICd1cGRhdGVkJykge1xuICAgICAgdGhpcy5mZXRjaEZ1bihkYXRhKTtcbiAgICB9XG4gICAgaWYgKGFjdGlvblsxXSA9PT0gJ3JlbW92ZWQnKSB7XG4gICAgICBpZiAoYWN0aW9uWzBdID09PSAndXNlcicpIHtcbiAgICAgICAgdGhpcy51c2VyRGVsZXRlKGRhdGEuaWQpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvblswXSA9PT0gJ2dyb3VwJykge1xuICAgICAgICB0aGlzLmdyb3VwRGVsZXRlKGRhdGEuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVzZXJEZWxldGUoaWQpIHtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy51c2Vycy5maW5kKGl0ZW0gPT4gaXRlbS51c2VyX2lkID09PSBpZCk7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVzZXJzLmluZGV4T2YodGVtcCk7XG4gICAgdGhpcy51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMuZW1pdCgncmVuZGVySW5pdCcsIG51bGwsIGRvY3VtZW50KTtcbiAgfVxuXG4gIGdyb3VwRGVsZXRlKGlkKSB7XG4gICAgY29uc3QgdGVtcCA9IHRoaXMuZ3JvdXBzLmZpbmQoaXRlbSA9PiBpdGVtLmdyb3VwX2lkID09PSBpZCk7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKHRlbXApO1xuICAgIHRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5lbWl0KCdyZW5kZXJJbml0JywgbnVsbCwgZG9jdW1lbnQpO1xuICB9XG5cbiAgZmV0Y2hGdW4oZGF0YSkge1xuICAgIGNvbnN0IGFjdGlvbiA9IGRhdGEuYWN0aW9uLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgeyBpZCB9ID0gZGF0YTtcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly91bXMtaG9uZXliYWRnZXIuaGVyb2t1YXBwLmNvbS8ke2FjdGlvblswXX0vJHtpZH1gO1xuICAgIGZldGNoKHVybClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgIGlmIChhY3Rpb25bMF0gPT09ICd1c2VyJykge1xuICAgICAgICAgIHRoaXMuYWRkVXNlcihqc29uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uWzBdID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgdGhpcy5hZGRHcm91cChqc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3JlbmRlckluaXQnLCBudWxsLCBkb2N1bWVudCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiAgfVxuXG4gIGFkZFVzZXIodXNlcikge1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLnVzZXJzLmZpbmQoaXRlbSA9PiBpdGVtLnVzZXJfaWQgPT09IHVzZXIudXNlcl9pZCk7XG4gICAgaWYgKHRlbXApIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy51c2Vycy5pbmRleE9mKHRlbXApO1xuICAgICAgdGhpcy51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICB0aGlzLnVzZXJzLnB1c2gobmV3IFVzZXJPYmoodXNlcikpO1xuICAgIHRoaXMuY291bnRVc2Vyc0luR3JvdXBzKCk7XG4gIH1cblxuICBhZGRHcm91cChncm91cCkge1xuICAgIHRoaXMuZ3JvdXBzLnB1c2gobmV3IEdyb3VwT2JqKGdyb3VwKSk7XG4gICAgdGhpcy5jb3VudFVzZXJzSW5Hcm91cHMoKTtcbiAgfVxuXG4gIGNvdW50VXNlcnNJbkdyb3VwcygpIHtcbiAgICB0aGlzLmdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT4ge1xuICAgICAgZ3JvdXAuYW1vdW50T2ZVc2VycyA9IHRoaXMudXNlcnMucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICBpZiAoY3VyLmdyb3VwX2lkID09PSBncm91cC5ncm91cF9pZCkgcmV0dXJuIGFjYyArIDE7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIHB1dFVzZXJSZXF1ZXN0KG9iaikge1xuICAgIGNvbnN0IHVybCA9IGBodHRwczovL3Vtcy1ob25leWJhZGdlci5oZXJva3VhcHAuY29tL3VzZXIvJHtvYmoudXNlcl9pZH1gO1xuICAgIGNvbnN0IHRlbXAgPSBuZXcgVXNlck9iaihvYmopO1xuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAncHV0JyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlbXApLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgcG9zdFVzZXJSZXF1ZXN0KG9iaikge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL3Vtcy1ob25leWJhZGdlci5oZXJva3VhcHAuY29tL3VzZXInO1xuICAgIGNvbnN0IHRlbXAgPSBuZXcgVXNlck9iaihvYmopO1xuICAgIHRlbXAudXNlcl9pZCA9IHVuZGVmaW5lZDtcblxuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW1wKSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiAgfVxuXG4gIHBvc3RCbGFua0VtaXQoKSB7XG4gICAgdGhpcy5lbWl0KCdwb3N0U2VuZERhdGEnLCB0aGlzLmdyb3VwcywgZG9jdW1lbnQpO1xuICB9XG5cbiAgZWRpdEJsYW5rRW1pdChpZCkge1xuICAgIGNvbnN0IHVzZXIgPSB0aGlzLnVzZXJzLmZpbmQoaXRlbSA9PiBpdGVtLnVzZXJfaWQgPT09IHBhcnNlRmxvYXQoaWQpKTtcbiAgICB0aGlzLmVtaXQoJ2VkaXRTZW5kRGF0YScsIFt1c2VyLCB0aGlzLmdyb3Vwc10sIGRvY3VtZW50KTtcbiAgfVxuXG4gIHNvcnREYXRhKCkge1xuICAgIHRoaXMudXNlcnMuc29ydCgoYSwgYikgPT4gYS51c2VyX2lkIC0gYi51c2VyX2lkKTtcbiAgICB0aGlzLmdyb3Vwcy5zb3J0KChhLCBiKSA9PiBhLmdyb3VwX2lkIC0gYi5ncm91cF9pZCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVN0b3JlO1xuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmNsYXNzIE15V2ViU29ja2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgaW5pdCgpIHtcbiAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vdW1zLWhvbmV5YmFkZ2VyLmhlcm9rdWFwcC5jb20vdW1zJyk7XG4gICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2VGdW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9uT3BlbkZ1bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gdGhpcy5vbkNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbk1lc3NhZ2VGdW4obWVzc2FnZSkge1xuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7XG4gICAgaWYgKGRhdGEubWVzc2FnZSkge1xuICAgICAgY29uc29sZS5sb2coJ01FU1NBR0UgLSAnLCBkYXRhLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoZGF0YS5hY3Rpb24pIHtcbiAgICAgIHRoaXMuZW1pdCgnYWN0aW9uRXZlbnQnLCBkYXRhLCBkb2N1bWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgb25PcGVuRnVuKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIG9uRXJyb3IoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgb25DbG9zZShtKSB7XG4gICAgY29uc29sZS5sb2cobSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlXZWJTb2NrZXQ7XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxuY29uc3Qgc2lkZW5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlbmF2Jyk7XG5jb25zdCBncm91cHNVbFNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS1vdXQnKS5xdWVyeVNlbGVjdG9yKCd1bCcpO1xuY29uc3QgcGFnZVRpdGxlU2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtdGl0bGUnKTtcblxuY2xhc3MgR3JvdXBzVmlldyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGluaXQoKSB7XG4gICAgTS5TaWRlbmF2LmluaXQoc2lkZW5hdiwge30pO1xuICAgIHRoaXMub24oJ3JlbmRlckdyb3VwcycsIHRoaXMucmVuZGVyR3JvdXBzLmJpbmQodGhpcyksIGRvY3VtZW50KTtcbiAgICB3aW5kb3cub25oYXNoY2hhbmdlID0gKCkgPT4geyB0aGlzLmVtaXQoJ3JlbmRlckluaXQnLCBudWxsLCBkb2N1bWVudCk7IH07XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICByZW5kZXJHcm91cHMoZ3JvdXBzKSB7XG4gICAgZ3JvdXBzVWxTZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICBsZXQgYWN0aXZlO1xuICAgICAgY29uc3QgaGFzaCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5zcGxpdCgvWyMvXS8pWzFdKTtcbiAgICAgIGlmIChoYXNoID09PSBncm91cC5ncm91cF9pZCkge1xuICAgICAgICBwYWdlVGl0bGVTZWwuaW5uZXJUZXh0ID0gZ3JvdXAubmFtZTtcbiAgICAgICAgYWN0aXZlID0gJ2FjdGl2ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmUgPSAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG15VGVtcGxhdGUgPSBgPGxpIGNsYXNzPSR7YWN0aXZlfT48YSBocmVmPVwiIyR7Z3JvdXAuZ3JvdXBfaWR9L1wiPiR7Z3JvdXAubmFtZX0gPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmFkZ2UtY2FwdGlvbj1cIlwiPiR7Z3JvdXAuYW1vdW50T2ZVc2Vyc308L3NwYW4+PC9hPjwvbGk+YDtcbiAgICAgIGdyb3Vwc1VsU2VsLmlubmVySFRNTCArPSBteVRlbXBsYXRlO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyb3Vwc1ZpZXc7XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxuY29uc3QgdXNlcnNUYWJsZUJvZHlTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RyaXBlZCcpLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG5cbmNsYXNzIFVzZXJzVmlldyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGluaXQoKSB7XG4gICAgdGhpcy5vbigncmVuZGVyVXNlcnMnLCB0aGlzLnJlbmRlclVzZXJzLmJpbmQodGhpcyksIGRvY3VtZW50KTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIHJlbmRlclVzZXJzKHVzZXJzKSB7XG4gICAgdXNlcnNUYWJsZUJvZHlTZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgdXNlcnMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgICAgY29uc3QgaGFzaCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5zcGxpdCgvWyMvXS8pWzFdKTtcbiAgICAgIGlmIChoYXNoID09PSB1c2VyLmdyb3VwX2lkKSB7XG4gICAgICAgIGNvbnN0IG15VGVtcGxhdGUgPSBgXG4gICAgICAgIDx0ciBpZD1cIiR7dXNlci51c2VyX2lkfVwiPlxuICAgICAgICAgIDx0ZD4ke3VzZXIubmFtZX08L3RkPlxuICAgICAgICAgIDx0ZD4ke3VzZXIuc3RyZWV0fTwvdGQ+XG4gICAgICAgICAgPHRkPiR7dXNlci56aXBfY29kZX08L3RkPlxuICAgICAgICAgIDx0ZD4ke3VzZXIuY2l0eX08L3RkPlxuICAgICAgICAgIDx0ZD4ke3VzZXIucGhvbmV9PC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgYDtcbiAgICAgICAgdXNlcnNUYWJsZUJvZHlTZWwuaW5uZXJIVE1MICs9IG15VGVtcGxhdGU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcnNWaWV3O1xuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmNvbnN0IG1vZGFsQWRkU2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsQWRkJyk7XG5jb25zdCBvcGVuTW9kYWxTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbi1hZGQnKS5xdWVyeVNlbGVjdG9yKCdhJyk7XG5cbmNsYXNzIFBvc3RCbGFuayBleHRlbmRzIENvbXBvbmVudCB7XG4gIGluaXQoKSB7XG4gICAgdGhpcy5vbigncG9zdFNlbmREYXRhJywgdGhpcy5pbml0QmxhbmsuYmluZCh0aGlzKSwgZG9jdW1lbnQpO1xuICAgIG9wZW5Nb2RhbFNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3Blbk1vZGFsUG9zdC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICBvcGVuTW9kYWxQb3N0KCkge1xuICAgIG1vZGFsQWRkU2VsLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8aDQ+QWRkIG5ldyBtZW1iZXI8L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICA8Zm9ybSBjbGFzcz1cImNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImZpcnN0X25hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwidmFsaWRhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaXJzdF9uYW1lXCI+Rmlyc3QgTmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHM2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJsYXN0X25hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwidmFsaWRhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJsYXN0X25hbWVcIj5MYXN0IE5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJzdHJlZXRcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwidmFsaWRhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJzdHJlZXRcIj5TdHJlZXQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cInppcF9jb2RlXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZhbGlkYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiemlwX2NvZGVcIj5aaXAgY29kZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHM2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJjaXR5XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZhbGlkYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2l0eVwiPkNpdHk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJwaG9uZVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2YWxpZGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBob25lXCI+UGhvbmUgbnVtYmVyPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImdyb3Vwc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+R3JvdXA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicmFuZ2VfY3JlZGl0XCI+Q3JlZGl0PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwicmFuZ2VfY3JlZGl0XCIgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwMDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YSBpZD1cImNsb3NlX2J1dHRvblwiIGNsYXNzPVwibW9kYWwtYWN0aW9uIG1vZGFsLWNsb3NlIHdhdmVzLWVmZmVjdCB3YXZlcy1ncmVlbiBidG4tZmxhdFwiPkNsb3NlPC9hPlxuICAgICAgICA8YSBpZD1cImNyZWF0ZV9idXR0b25cIiBjbGFzcz1cIm1vZGFsLWFjdGlvbiBtb2RhbC1jbG9zZSB3YXZlcy1lZmZlY3Qgd2F2ZXMtZ3JlZW4gYnRuLWZsYXRcIj5DcmVhdGU8L2E+XG4gICAgPC9kaXY+XG4gICAgYDtcblxuICAgIE0uTW9kYWwuaW5pdChtb2RhbEFkZFNlbCwge30pO1xuXG4gICAgdGhpcy5pbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UobW9kYWxBZGRTZWwpO1xuICAgIHRoaXMuaW5zdGFuY2Uub3BlbigpO1xuXG4gICAgdGhpcy5ibGFua0dyb3Vwc1NlbCA9IG1vZGFsQWRkU2VsLnF1ZXJ5U2VsZWN0b3IoJyNncm91cHMnKTtcbiAgICB0aGlzLmdyb3VwU2VsID0gbW9kYWxBZGRTZWwucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XG4gICAgdGhpcy5maXJzdE5hbWVTZWwgPSBtb2RhbEFkZFNlbC5xdWVyeVNlbGVjdG9yKCcjZmlyc3RfbmFtZScpO1xuICAgIHRoaXMubGFzdE5hbWVTZWwgPSBtb2RhbEFkZFNlbC5xdWVyeVNlbGVjdG9yKCcjbGFzdF9uYW1lJyk7XG4gICAgdGhpcy5zdHJlZXRTZWwgPSBtb2RhbEFkZFNlbC5xdWVyeVNlbGVjdG9yKCcjc3RyZWV0Jyk7XG4gICAgdGhpcy56aXBDb2RlU2VsID0gbW9kYWxBZGRTZWwucXVlcnlTZWxlY3RvcignI3ppcF9jb2RlJyk7XG4gICAgdGhpcy5jaXR5U2VsID0gbW9kYWxBZGRTZWwucXVlcnlTZWxlY3RvcignI2NpdHknKTtcbiAgICB0aGlzLnBob25lU2VsID0gbW9kYWxBZGRTZWwucXVlcnlTZWxlY3RvcignI3Bob25lJyk7XG4gICAgdGhpcy5yYW5nZUNyZWRpdFNlbCA9IG1vZGFsQWRkU2VsLnF1ZXJ5U2VsZWN0b3IoJyNyYW5nZV9jcmVkaXQnKTtcbiAgICB0aGlzLmNyZWF0ZUJ1dHRvblNlbCA9IG1vZGFsQWRkU2VsLnF1ZXJ5U2VsZWN0b3IoJyNjcmVhdGVfYnV0dG9uJyk7XG4gICAgdGhpcy5tb2RhbE92ZXJsYXlTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxheScpO1xuICAgIHRoaXMuY2xvc2VCdXR0b25TZWwgPSBtb2RhbEFkZFNlbC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VfYnV0dG9uJyk7XG5cbiAgICB0aGlzLmNyZWF0ZUJ1dHRvblNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucG9zdEJsYW5rQ3JlYXRlLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uU2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1vZGFsRnVuLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLm1vZGFsT3ZlcmxheVNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNb2RhbEZ1bi5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgdGhpcy5jcmVhdGVCdXR0b25TZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlTW9kYWxGdW4uYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgTS5SYW5nZS5pbml0KHRoaXMucmFuZ2VDcmVkaXRTZWwsIHt9KTtcbiAgICB0aGlzLmVtaXQoJ3Bvc3RSZXF1ZXN0RGF0YScsIG51bGwsIGRvY3VtZW50KTtcbiAgfVxuXG4gIGluaXRCbGFuayhncm91cHMpIHtcbiAgICB0aGlzLmdyb3VwcyA9IGdyb3VwcztcbiAgICB0aGlzLmJsYW5rR3JvdXBzU2VsLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuYmxhbmtHcm91cHNTZWwuaW5uZXJIVE1MICs9ICc8b3B0aW9uIHZhbHVlPVwiXCIgZGlzYWJsZWQgc2VsZWN0ZWQ+Q2hvb3NlIGdyb3VwPC9vcHRpb24+JztcbiAgICBncm91cHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5ibGFua0dyb3Vwc1NlbC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9XCIke2l0ZW0uZ3JvdXBfaWR9XCIgaWQ9XCIke2l0ZW0uZ3JvdXBfaWR9XCI+JHtpdGVtLm5hbWV9PC9vcHRpb24+YDtcbiAgICB9KTtcbiAgICBNLkZvcm1TZWxlY3QuaW5pdCh0aGlzLmdyb3VwU2VsLCB7fSk7XG4gIH1cblxuICBwb3N0QmxhbmtDcmVhdGUoKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IE0uRm9ybVNlbGVjdC5pbml0KHRoaXMuZ3JvdXBTZWwsIHt9KTtcbiAgICB0aGlzLmluc3RhbmNlID0gTS5Gb3JtU2VsZWN0LmdldEluc3RhbmNlKHRoaXMuZ3JvdXBTZWwpO1xuICAgIGNvbnN0IHRlbXBVc2VyID0ge307XG4gICAgW3RlbXBVc2VyLmdyb3VwX2lkXSA9IHRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRWYWx1ZXMoKTtcbiAgICB0ZW1wVXNlci5uYW1lID0gYCR7dGhpcy5maXJzdE5hbWVTZWwudmFsdWV9ICR7dGhpcy5sYXN0TmFtZVNlbC52YWx1ZX1gO1xuICAgIHRlbXBVc2VyLnN0cmVldCA9IHRoaXMuc3RyZWV0U2VsLnZhbHVlO1xuICAgIHRlbXBVc2VyLnppcF9jb2RlID0gdGhpcy56aXBDb2RlU2VsLnZhbHVlO1xuICAgIHRlbXBVc2VyLmNpdHkgPSB0aGlzLmNpdHlTZWwudmFsdWU7XG4gICAgdGVtcFVzZXIucGhvbmUgPSB0aGlzLnBob25lU2VsLnZhbHVlO1xuICAgIHRlbXBVc2VyLmNyZWRpdHMgPSB0aGlzLnJhbmdlQ3JlZGl0U2VsLnZhbHVlO1xuICAgIHRoaXMuZW1pdCgnZmV0Y2hQb3N0UmVxdWVzdCcsIHRlbXBVc2VyLCBkb2N1bWVudCk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBjbG9zZU1vZGFsRnVuKCkge1xuICAgIG1vZGFsQWRkU2VsLmlubmVySFRNTCA9ICcnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvc3RCbGFuaztcbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5jb25zdCBtb2RhbEVkaXRTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWxFZGl0Jyk7XG5jb25zdCBtYWluVGFibGVTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJykucXVlcnlTZWxlY3RvcigndGJvZHknKTtcblxuY2xhc3MgRWRpdEJsYW5rIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgaW5pdCgpIHtcbiAgICBtYWluVGFibGVTZWwuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLm9wZW5Nb2RhbEVkaXQuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIHRoaXMub24oJ2VkaXRTZW5kRGF0YScsIHRoaXMuaW5pdEJsYW5rLmJpbmQodGhpcyksIGRvY3VtZW50KTtcbiAgfVxuXG4gIG9wZW5Nb2RhbEVkaXQoZSkge1xuICAgIG1vZGFsRWRpdFNlbC5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGg0PkVkaXQgbWVtYmVyPC9oND5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGZvcm0gY2xhc3M9XCJjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHM2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJmaXJzdF9uYW1lXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZhbGlkYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZmlyc3RfbmFtZVwiPkZpcnN0IE5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwibGFzdF9uYW1lXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZhbGlkYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibGFzdF9uYW1lXCI+TGFzdCBOYW1lPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwic3RyZWV0XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZhbGlkYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwic3RyZWV0XCI+U3RyZWV0PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHM2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJ6aXBfY29kZVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2YWxpZGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInppcF9jb2RlXCI+WmlwIGNvZGU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiY2l0eVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2YWxpZGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNpdHlcIj5DaXR5PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwicGhvbmVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwidmFsaWRhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwaG9uZVwiPlBob25lIG51bWJlcjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJncm91cHNcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+R3JvdXA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicmFuZ2VfY3JlZGl0XCI+Q3JlZGl0PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwicmFuZ2VfY3JlZGl0XCIgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwMDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YSBpZD1cImNsb3NlX2J1dHRvblwiIGNsYXNzPVwibW9kYWwtYWN0aW9uIG1vZGFsLWNsb3NlIHdhdmVzLWVmZmVjdCB3YXZlcy1ncmVlbiBidG4tZmxhdFwiPkNsb3NlPC9hPlxuICAgICAgICA8YSBpZD1cInVwZGF0ZV9idXR0b25cIiBjbGFzcz1cIm1vZGFsLWFjdGlvbiBtb2RhbC1jbG9zZSB3YXZlcy1lZmZlY3Qgd2F2ZXMtZ3JlZW4gYnRuLWZsYXRcIj5VcGRhdGU8L2E+XG4gICAgPC9kaXY+XG4gICAgYDtcblxuICAgIE0uTW9kYWwuaW5pdChtb2RhbEVkaXRTZWwsIHt9KTtcblxuICAgIHRoaXMuaW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKG1vZGFsRWRpdFNlbCk7XG4gICAgdGhpcy5pbnN0YW5jZS5vcGVuKCk7XG5cbiAgICB0aGlzLmJsYW5rR3JvdXBzU2VsID0gbW9kYWxFZGl0U2VsLnF1ZXJ5U2VsZWN0b3IoJyNncm91cHMnKTtcbiAgICB0aGlzLmdyb3VwU2VsID0gbW9kYWxFZGl0U2VsLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuICAgIHRoaXMuZmlyc3ROYW1lU2VsID0gbW9kYWxFZGl0U2VsLnF1ZXJ5U2VsZWN0b3IoJyNmaXJzdF9uYW1lJyk7XG4gICAgdGhpcy5sYXN0TmFtZVNlbCA9IG1vZGFsRWRpdFNlbC5xdWVyeVNlbGVjdG9yKCcjbGFzdF9uYW1lJyk7XG4gICAgdGhpcy5zdHJlZXRTZWwgPSBtb2RhbEVkaXRTZWwucXVlcnlTZWxlY3RvcignI3N0cmVldCcpO1xuICAgIHRoaXMuemlwQ29kZVNlbCA9IG1vZGFsRWRpdFNlbC5xdWVyeVNlbGVjdG9yKCcjemlwX2NvZGUnKTtcbiAgICB0aGlzLmNpdHlTZWwgPSBtb2RhbEVkaXRTZWwucXVlcnlTZWxlY3RvcignI2NpdHknKTtcbiAgICB0aGlzLnBob25lU2VsID0gbW9kYWxFZGl0U2VsLnF1ZXJ5U2VsZWN0b3IoJyNwaG9uZScpO1xuICAgIHRoaXMucmFuZ2VDcmVkaXRTZWwgPSBtb2RhbEVkaXRTZWwucXVlcnlTZWxlY3RvcignI3JhbmdlX2NyZWRpdCcpO1xuICAgIHRoaXMuaWRDb250YWluZXJTZWwgPSBtb2RhbEVkaXRTZWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKTtcbiAgICB0aGlzLm1vZGFsT3ZlcmxheVNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1vdmVybGF5Jyk7XG4gICAgdGhpcy51cGRhdGVCdXR0b25TZWwgPSBtb2RhbEVkaXRTZWwucXVlcnlTZWxlY3RvcignI3VwZGF0ZV9idXR0b24nKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uU2VsID0gbW9kYWxFZGl0U2VsLnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZV9idXR0b24nKTtcblxuICAgIE0uUmFuZ2UuaW5pdCh0aGlzLnJhbmdlQ3JlZGl0U2VsLCB7fSk7XG4gICAgdGhpcy5lbWl0KCdlZGl0UmVxdWVzdERhdGEnLCBlLnRhcmdldC5wYXJlbnROb2RlLmlkLCBkb2N1bWVudCk7XG5cbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZWRpdEJsYW5rVXBkYXRlLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uU2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1vZGFsRnVuLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNb2RhbEZ1bi5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgdGhpcy5tb2RhbE92ZXJsYXlTZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlTW9kYWxGdW4uYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgaW5pdEJsYW5rKHBhcmFtcykge1xuICAgIFt0aGlzLnVzZXIsIHRoaXMuZ3JvdXBzXSA9IHBhcmFtcztcbiAgICBjb25zdCBjaG9vc2VkR3JvdXAgPSB0aGlzLmdyb3Vwcy5maW5kKGl0ZW0gPT4gaXRlbS5ncm91cF9pZCA9PT0gdGhpcy51c2VyLmdyb3VwX2lkKTtcbiAgICB0aGlzLmJsYW5rR3JvdXBzU2VsLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuYmxhbmtHcm91cHNTZWwuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPVwiJHt0aGlzLnVzZXIuZ3JvdXBfaWR9XCIgZGlzYWJsZWQgc2VsZWN0ZWQ+JHtjaG9vc2VkR3JvdXAubmFtZX08L29wdGlvbj5gO1xuICAgIHRoaXMuZ3JvdXBzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuYmxhbmtHcm91cHNTZWwuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtpdGVtLmdyb3VwX2lkfVwiIGlkPVwiJHtpdGVtLmdyb3VwX2lkfVwiPiR7aXRlbS5uYW1lfTwvb3B0aW9uPmA7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlkQ29udGFpbmVyU2VsLmlkID0gdGhpcy51c2VyLnVzZXJfaWQ7XG4gICAgY29uc3QgZnVsbG5hbWUgPSB0aGlzLnVzZXIubmFtZS5zcGxpdCgnICcpO1xuICAgIFt0aGlzLmZpcnN0TmFtZVNlbC52YWx1ZV0gPSBmdWxsbmFtZTtcbiAgICBmdWxsbmFtZS5zcGxpY2UoMCwgMSk7XG4gICAgdGhpcy5sYXN0TmFtZVNlbC52YWx1ZSA9IGZ1bGxuYW1lLmpvaW4oJyAnKTtcbiAgICB0aGlzLnN0cmVldFNlbC52YWx1ZSA9IHRoaXMudXNlci5zdHJlZXQ7XG4gICAgdGhpcy56aXBDb2RlU2VsLnZhbHVlID0gdGhpcy51c2VyLnppcF9jb2RlO1xuICAgIHRoaXMuY2l0eVNlbC52YWx1ZSA9IHRoaXMudXNlci5jaXR5O1xuICAgIHRoaXMucGhvbmVTZWwudmFsdWUgPSB0aGlzLnVzZXIucGhvbmU7XG4gICAgdGhpcy5yYW5nZUNyZWRpdFNlbC52YWx1ZSA9IHRoaXMudXNlci5jcmVkaXRzO1xuXG4gICAgaWYgKHBhcnNlRmxvYXQodGhpcy5yYW5nZUNyZWRpdFNlbC52YWx1ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuZmlyc3ROYW1lU2VsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMubGFzdE5hbWVTZWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdHJlZXRTZWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy56aXBDb2RlU2VsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2l0eVNlbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLnBob25lU2VsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucmFuZ2VDcmVkaXRTZWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5ibGFua0dyb3Vwc1NlbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmlyc3ROYW1lU2VsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmxhc3ROYW1lU2VsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnN0cmVldFNlbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy56aXBDb2RlU2VsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmNpdHlTZWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucGhvbmVTZWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmFuZ2VDcmVkaXRTZWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYmxhbmtHcm91cHNTZWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoY2hvb3NlZEdyb3VwLmlzX2FkbWluKSB7XG4gICAgICB0aGlzLnJhbmdlQ3JlZGl0U2VsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBNLkZvcm1TZWxlY3QuaW5pdCh0aGlzLmdyb3VwU2VsLCB7fSk7XG5cbiAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTtcbiAgfVxuXG4gIGVkaXRCbGFua1VwZGF0ZSgpIHtcbiAgICB0aGlzLmluc3RhbmNlID0gTS5Gb3JtU2VsZWN0LmluaXQodGhpcy5ncm91cFNlbCwge30pO1xuICAgIHRoaXMuaW5zdGFuY2UgPSBNLkZvcm1TZWxlY3QuZ2V0SW5zdGFuY2UodGhpcy5ncm91cFNlbCk7XG5cbiAgICBjb25zdCB0ZW1wVXNlciA9IHt9O1xuICAgIHRlbXBVc2VyLnVzZXJfaWQgPSB0aGlzLmlkQ29udGFpbmVyU2VsLmlkO1xuICAgIFt0ZW1wVXNlci5ncm91cF9pZF0gPSB0aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgdGVtcFVzZXIubmFtZSA9IGAke3RoaXMuZmlyc3ROYW1lU2VsLnZhbHVlfSAke3RoaXMubGFzdE5hbWVTZWwudmFsdWV9YDtcbiAgICB0ZW1wVXNlci5zdHJlZXQgPSB0aGlzLnN0cmVldFNlbC52YWx1ZTtcbiAgICB0ZW1wVXNlci56aXBfY29kZSA9IHRoaXMuemlwQ29kZVNlbC52YWx1ZTtcbiAgICB0ZW1wVXNlci5jaXR5ID0gdGhpcy5jaXR5U2VsLnZhbHVlO1xuICAgIHRlbXBVc2VyLnBob25lID0gdGhpcy5waG9uZVNlbC52YWx1ZTtcbiAgICB0ZW1wVXNlci5jcmVkaXRzID0gdGhpcy5yYW5nZUNyZWRpdFNlbC52YWx1ZTtcbiAgICB0aGlzLmVtaXQoJ2ZldGNoUHV0UmVxdWVzdCcsIHRlbXBVc2VyLCBkb2N1bWVudCk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBjbG9zZU1vZGFsRnVuKCkge1xuICAgIG1vZGFsRWRpdFNlbC5pbm5lckhUTUwgPSAnJztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0Qmxhbms7XG4iLCJpbXBvcnQgRGF0YVN0b3JlIGZyb20gJy4vZGF0YV9zdG9yZSc7XG5pbXBvcnQgTXlXZWJTb2NrZXQgZnJvbSAnLi93ZWJfc29ja2V0JztcbmltcG9ydCBHcm91cHNWaWV3IGZyb20gJy4vZ3JvdXBzX3ZpZXcnO1xuaW1wb3J0IFVzZXJzVmlldyBmcm9tICcuL3VzZXJzX3ZpZXcnO1xuaW1wb3J0IFBvc3RCbGFuayBmcm9tICcuL3Bvc3RfYmxhbmsnO1xuaW1wb3J0IEVkaXRCbGFuayBmcm9tICcuL2VkaXRfYmxhbmsnO1xuXG5EYXRhU3RvcmUuYmluZFRvKGRvY3VtZW50KTtcbk15V2ViU29ja2V0LmJpbmRUbyhkb2N1bWVudCk7XG5Hcm91cHNWaWV3LmJpbmRUbyhkb2N1bWVudCk7XG5Vc2Vyc1ZpZXcuYmluZFRvKGRvY3VtZW50KTtcblBvc3RCbGFuay5iaW5kVG8oZG9jdW1lbnQpO1xuRWRpdEJsYW5rLmJpbmRUbyhkb2N1bWVudCk7Il0sInNvdXJjZVJvb3QiOiIifQ==